# ‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê –ü–õ–ê–¢–ï–ñ–ï–ô –ó–ê–í–ï–†–®–ï–ù–ê

## üéØ –ß–¢–û –°–î–ï–õ–ê–ù–û:

### **1. –°–æ–∑–¥–∞–Ω Webhook:**
- ‚úÖ –§–∞–π–ª `webhook.js` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π –æ—Ç Telegram Bot
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `successful_payment` —Å–æ–±—ã—Ç–∏—è
- ‚úÖ –ó–∞—á–∏—Å–ª—è–µ—Ç NDN –Ω–∞ –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### **2. –ù–∞—Å—Ç—Ä–æ–µ–Ω Webhook –≤ Telegram:**
- ‚úÖ URL: `https://sistemypro.ru/webhook/telegram`
- ‚úÖ –°—Ç–∞—Ç—É—Å: Webhook was set
- ‚úÖ IP –∞–¥—Ä–µ—Å: 147.45.110.220
- ‚úÖ Pending updates: 0

### **3. –û–±–Ω–æ–≤–ª–µ–Ω Frontend:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `tg.openLink()` –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è invoice
- ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç invoice —Å—Å—ã–ª–∫—É –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç –±–∞–ª–∞–Ω—Å

## üîÑ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢:

1. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ö—É–ø–∏—Ç—å NDN"
2. ‚úÖ –°–æ–∑–¥–∞–µ—Ç—Å—è invoice —Å—Å—ã–ª–∫–∞ —á–µ—Ä–µ–∑ Bot API
3. ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ —á–µ—Ä–µ–∑ `tg.openLink()`
4. ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç Stars –≤ Telegram
5. ‚úÖ **Telegram Bot –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç successful_payment –≤ webhook**
6. ‚úÖ **Webhook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂**
7. ‚úÖ **NDN –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å**
8. ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ**

## üì§ –ó–ê–ì–†–£–ñ–ï–ù–û –ù–ê –°–ï–†–í–ï–†:

- ‚úÖ `server-deployment/webhook.js` - Webhook handler
- ‚úÖ `server-deployment/server.js` - Webhook route
- ‚úÖ `server-deployment/public/index.html` - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç tg.openLink
- ‚úÖ PM2 –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω
- ‚úÖ Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ Telegram

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

–¢–µ–ø–µ—Ä—å:
1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –≤ Telegram
2. **–ù–∞–∂–º–∏—Ç–µ "–ö—É–ø–∏—Ç—å NDN"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ö—É–ø–∏—Ç—å"**
4. **–û—Ç–∫—Ä–æ–µ—Ç—Å—è –æ–∫–Ω–æ –æ–ø–ª–∞—Ç—ã**
5. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ–ø–ª–∞—Ç—É Stars**
6. **NDN –±—É–¥—É—Ç –∑–∞—á–∏—Å–ª–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢:

‚úÖ Invoice —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è  
‚úÖ –ü–ª–∞—Ç–µ–∂ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram  
‚úÖ Webhook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç successful_payment  
‚úÖ NDN –∑–∞—á–∏—Å–ª—è—é—Ç—Å—è –Ω–∞ –±–∞–ª–∞–Ω—Å  
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ  

## üìä –õ–û–ì–ò:

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞:
- –°–æ–∑–¥–∞–Ω–∏–µ invoice
- –£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞
- –ó–∞—á–∏—Å–ª–µ–Ω–∏–µ NDN
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ











