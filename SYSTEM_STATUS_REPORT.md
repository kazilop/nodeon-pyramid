# üìä –û–¢–ß–ï–¢ –û –°–û–°–¢–û–Ø–ù–ò–ò –°–ò–°–¢–ï–ú–´ NODEON PYRAMID

## üóÑÔ∏è **–ë–ê–ó–ê –î–ê–ù–ù–´–•**

### **Supabase (–û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)**
- **URL:** https://ahxwpzgltlzlvrtrbanm.supabase.co
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** (Status: 200)
- **–ü—Ä–æ–µ–∫—Ç:** [ahxwpzgltlzlvrtrbanm](https://supabase.com/dashboard/project/ahxwpzgltlzlvrtrbanm)
- **–¢–∞–±–ª–∏—Ü—ã:**
  - ‚úÖ `nodeon_users` - 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - ‚ùå `nodeon_server_wallet` - **–ù–ï –°–û–ó–î–ê–ù–ê**
  - ‚ùå `nodeon_wallet_transactions` - **–ù–ï –°–û–ó–î–ê–ù–ê**
  - ‚ùå `nodeon_stars_config` - **–ù–ï –°–û–ó–î–ê–ù–ê**

### **–ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:**
- ‚ùå **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ –Ω–µ —Å–æ–∑–¥–∞–Ω** - —Ñ—É–Ω–∫—Ü–∏—è `get_server_wallet_balance` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- ‚ùå **–¢–∞–±–ª–∏—Ü—ã Stars –Ω–µ —Å–æ–∑–¥–∞–Ω—ã** - –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Telegram Stars
- ‚ùå **RPC —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã** - –Ω–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π

---

## üöÄ **–°–ï–†–í–ï–†–´ –ò –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

### **Railway (–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä)**
- **–ü—Ä–æ–µ–∫—Ç:** nodeon
- **–°–µ—Ä–≤–∏—Å:** nodeon
- **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** production
- **URL:** https://nodeon-production.up.railway.app
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**
- **–õ–æ–≥–∏:** –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **GitHub (–§—Ä–æ–Ω—Ç–µ–Ω–¥)**
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** git@github.com:kazilop/nodeon-pyramid.git
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–°–ò–ù–•–†–û–ù–ò–ó–ò–†–û–í–ê–ù**
- **–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç:** "Implement official Telegram Stars integration"

---

## ü§ñ **TELEGRAM –ë–û–¢**

### **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- **–¢–æ–∫–µ–Ω:** 7670372637:AAG7XWbNkhvNx_M4MI4118AYXvIsn3bRMDQ
- **Username:** pro_stars_bot
- **Webhook URL:** https://nodeon-38h4z43ut-artems-projects-f7d0f2aa.vercel.app/webhook
- **–°—Ç–∞—Ç—É—Å:** ‚ùì **–ù–ï –ü–†–û–í–ï–†–ï–ù**

### **–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå **Webhook URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Vercel** - –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ Railway
- ‚ùå **Stars –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã** - –Ω—É–∂–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ @BotSupport
- ‚ùå **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** - /terms, /support, /paysupport

---

## üí∞ **–°–ò–°–¢–ï–ú–ê –ü–õ–ê–¢–ï–ñ–ï–ô**

### **–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå **Telegram Stars –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** - –Ω–µ—Ç —Ç–∞–±–ª–∏—Ü –∏ —Ñ—É–Ω–∫—Ü–∏–π
- ‚ùå **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ –Ω–µ —Å–æ–∑–¥–∞–Ω** - –Ω–µ—Ç —Ä–µ–∑–µ—Ä–≤–∞ NDN
- ‚ùå **–ü–ª–∞—Ç–µ–∂–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç** - –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ Stars
- ‚ùå **–í–æ–∑–≤—Ä–∞—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç** - –Ω–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ refundStarPayment

### **–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è Stars –≤ Supabase
2. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ —Å —Ä–µ–∑–µ—Ä–≤–æ–º NDN
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –±–æ—Ç–∞ –¥–ª—è Stars
4. –û–±–Ω–æ–≤–∏—Ç—å webhook URL –Ω–∞ Railway

---

## üîß **–¢–ï–ö–£–©–ò–ô –ö–û–î**

### **main.py:**
```python
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Supabase
from main_supabase import app
```

### **main_supabase.py:**
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - Telegram auth —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ **API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç** - /api/user/profile, /api/stats/leaderboard
- ‚ùå **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Stars** - –Ω–µ—Ç endpoints –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
- ‚ùå **–ù–µ—Ç webhook –æ–±—Ä–∞–±–æ—Ç–∫–∏** - –Ω–µ—Ç /webhook endpoint

---

## üìã **–ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø**

### **–®–ê–ì 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (15 –º–∏–Ω—É—Ç)**
1. –í—ã–ø–æ–ª–Ω–∏—Ç—å `CREATE_SERVER_WALLET.sql` –≤ Supabase
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å `ADD_STARS_SUPPORT.sql` –≤ Supabase
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ —Ñ—É–Ω–∫—Ü–∏–π

### **–®–ê–ì 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API (10 –º–∏–Ω—É—Ç)**
1. –ó–∞–º–µ–Ω–∏—Ç—å `main.py` –Ω–∞ `main_telegram_webhook.py`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Railway: `railway up --detach`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É webhook

### **–®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞ (10 –º–∏–Ω—É—Ç)**
1. –û–±–Ω–æ–≤–∏—Ç—å webhook URL –Ω–∞ Railway
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
3. –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ @BotSupport –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Stars

### **–®–ê–ì 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (5 –º–∏–Ω—É—Ç)**
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–≤–æ–π—Å–æ–≤
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–ª–∞—Ç–µ–∂–µ–π
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫

---

## üéØ **–ü–†–ò–û–†–ò–¢–ï–¢–´**

### **–ö–†–ò–¢–ò–ß–ù–û (—Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å):**
1. ‚ùå **–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫** - –±–µ–∑ –Ω–µ–≥–æ –Ω–µ—Ç —Ä–µ–∑–µ—Ä–≤–∞ NDN
2. ‚ùå **–°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã Stars** - –±–µ–∑ –Ω–∏—Ö –Ω–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
3. ‚ùå **–û–±–Ω–æ–≤–∏—Ç—å webhook URL** - –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ Railway

### **–í–ê–ñ–ù–û (—Å–¥–µ–ª–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è):**
1. ‚ùå **–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Stars** - –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ @BotSupport
2. ‚ùå **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞** - /terms, /support, /paysupport
3. ‚ùå **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û (—Å–¥–µ–ª–∞—Ç—å –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ):**
1. ‚ùå **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞
2. ‚ùå **–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø–ª–∞—Ç–µ–∂–µ–π
3. ‚ùå **–î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–ª–∞—Ç–µ–∂–∞—Ö

---

## üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´**

### **1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≥–æ—Ç–æ–≤–∞ –¥–ª—è Stars:**
- –ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã `nodeon_server_wallet`
- –ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã `nodeon_wallet_transactions`
- –ù–µ—Ç RPC —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π

### **2. Telegram –±–æ—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
- Webhook URL —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ Vercel –≤–º–µ—Å—Ç–æ Railway
- Stars –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### **3. API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Stars:**
- –ù–µ—Ç endpoints –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–≤–æ–π—Å–æ–≤
- –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook –æ—Ç Telegram
- –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–æ–≤

---

## ‚úÖ **–ß–¢–û –†–ê–ë–û–¢–ê–ï–¢**

### **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
- ‚úÖ Telegram auth —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç

### **–û—Å–Ω–æ–≤–Ω—ã–µ API:**
- ‚úÖ `/api/user/profile` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ `/api/stats/leaderboard` - –ª–∏–¥–µ—Ä–±–æ—Ä–¥
- ‚úÖ `/api/stats/referrals` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤

### **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- ‚úÖ Railway —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ Supabase –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω

---

## üéâ **–ò–¢–û–ì**

**–°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚ùå **–ü–ª–∞—Ç–µ–∂–∏ –∏ Stars** –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚ùå **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫** –Ω–µ —Å–æ–∑–¥–∞–Ω

**–í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: 40 –º–∏–Ω—É—Ç**
**–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Telegram Stars**

---

## üìû **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

1. **–°–µ–π—á–∞—Å:** –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç—ã –≤ Supabase
2. **–ß–µ—Ä–µ–∑ 15 –º–∏–Ω—É—Ç:** –û–±–Ω–æ–≤–∏—Ç—å API –Ω–∞ Railway
3. **–ß–µ—Ä–µ–∑ 25 –º–∏–Ω—É—Ç:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –±–æ—Ç–∞
4. **–ß–µ—Ä–µ–∑ 35 –º–∏–Ω—É—Ç:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
5. **–ß–µ—Ä–µ–∑ 40 –º–∏–Ω—É—Ç:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞! üöÄ
