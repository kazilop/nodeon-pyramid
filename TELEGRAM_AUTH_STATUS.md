# üîê –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram API

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢: –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –†–ê–ë–û–¢–ê–ï–¢ –ü–†–ê–í–ò–õ–¨–ù–û

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** $(date)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã

| –¢–µ—Å—Ç | –°—Ç–∞—Ç—É—Å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|------|--------|-----------|
| –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Telegram | 200 OK | ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç |
| –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | 401 Unauthorized | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |
| –ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | 401 Unauthorized | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |
| –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ | 401 Unauthorized | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |
| –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ | 401 Unauthorized | ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω |

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **–¢–æ–ª—å–∫–æ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** - –Ω–∏–∫–∞–∫–∏—Ö –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **–°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–±—Ö–æ–¥–∞** - –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã** - 401 –¥–ª—è –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üõ°Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞

### 1. –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Telegram –¥–∞–Ω–Ω—ã—Ö
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è Telegram
required_fields = ['user', 'auth_date', 'hash']
for field in required_fields:
    if field not in data:
        raise ValueError(f"–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ Telegram: {field}")
```

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
if 'id' not in user_data:
    raise ValueError("–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram")
```

### 3. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```python
# –ó–∞–ø—Ä–µ—â–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
if not init_data or init_data == "test_data" or init_data == "":
    raise ValueError("–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram")
```

### 4. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã
```python
# –í–æ–∑–≤—Ä–∞—â–∞–µ–º 401 –¥–ª—è –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
except ValueError as e:
    raise HTTPException(status_code=401, detail=str(e))
```

---

## üéØ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚úÖ API Endpoints —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `GET /api/user/profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/pro/buy` - –ü–æ–∫—É–ø–∫–∞ Pro —Å—Ç–∞—Ç—É—Å–∞
- `POST /api/ndn/buy` - –ü–æ–∫—É–ø–∫–∞ NDN
- `POST /api/ndn/withdraw` - –í—ã–≤–æ–¥ NDN
- `POST /api/stars/buy-ndn` - –ü–æ–∫—É–ø–∫–∞ NDN –∑–∞ Stars
- `POST /api/stars/withdraw` - –í—ã–≤–æ–¥ NDN –≤ Stars
- `GET /api/stats/referrals` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### ‚úÖ API Endpoints –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `GET /api/test` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
- `GET /api/stats/leaderboard` - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤
- `GET /api/stars/config` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars

---

## üö´ –ß—Ç–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ

### ‚ùå –ü–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ `init_data`
- –ü—É—Å—Ç—ã–µ `init_data`
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (`test_data`)
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π)

### ‚ùå –î—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- Google OAuth
- Vercel Auth
- –õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üì± –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã
1. **Telegram –∞–∫–∫–∞—É–Ω—Ç** - –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
2. **Telegram Mini App** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–æ –≤ Telegram
3. **–í–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç Telegram WebApp

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
1. **–û–±—ã—á–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä** - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω–µ Telegram
2. **–ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏** - –Ω–µ–ª—å–∑—è –æ—Ç–∫—Ä—ã—Ç—å –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ
3. **–î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - —Ç–æ–ª—å–∫–æ Telegram Mini App

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Backend (FastAPI)
- –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è `init_data`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π Telegram
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### Frontend (Telegram WebApp)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `window.Telegram.WebApp`
- –í–∞–ª–∏–¥–∞—Ü–∏—è `tg.initData`
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%!**

- üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ** - —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Telegram
- üö´ **–ó–∞—â–∏—â–µ–Ω–æ** - –≤—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã  
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ** - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ HTTP –∫–æ–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üì± **–£–¥–æ–±–Ω–æ** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Telegram Mini App

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
