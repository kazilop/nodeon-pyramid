# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –û–®–ò–ë–ö–ò –° –¢–ê–ë–õ–ò–¶–ï–ô STARS CONFIG

## üö® **–ü–†–û–ë–õ–ï–ú–ê**
```
ERROR: 42703: column "stars_to_ndn_rate" of relation "nodeon_stars_config" does not exist
```

## üéØ **–ü–†–ò–ß–ò–ù–ê**
–¢–∞–±–ª–∏—Ü–∞ `nodeon_stars_config` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–ª–æ–Ω–æ–∫ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

---

## üöÄ **–†–ï–®–ï–ù–ò–ï (5 –º–∏–Ω—É—Ç)**

### **–í–ê–†–ò–ê–ù–¢ 1: –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã)**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase:**
   - https://supabase.com/dashboard/project/ahxwpzgltlzlvrtrbanm
   - SQL Editor

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—â–∏–π —Å–∫—Ä–∏–ø—Ç:**
   ```sql
   -- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã nodeon_stars_config
   DROP TABLE IF EXISTS nodeon_stars_config CASCADE;
   
   CREATE TABLE nodeon_stars_config (
       id SERIAL PRIMARY KEY,
       stars_to_ndn_rate DECIMAL(10,4) DEFAULT 1.0000 NOT NULL,
       ndn_to_stars_rate DECIMAL(10,4) DEFAULT 1.0000 NOT NULL,
       min_stars_purchase DECIMAL(10,2) DEFAULT 10.0 NOT NULL,
       max_stars_purchase DECIMAL(10,2) DEFAULT 100000.0 NOT NULL,
       stars_withdrawal_fee_percent DECIMAL(5,2) DEFAULT 5.0 NOT NULL,
       is_active BOOLEAN DEFAULT TRUE NOT NULL,
       created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
       updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
   );
   
   INSERT INTO nodeon_stars_config (
       stars_to_ndn_rate, 
       ndn_to_stars_rate, 
       min_stars_purchase, 
       max_stars_purchase, 
       stars_withdrawal_fee_percent
   ) VALUES (
       1.0000, 10.0, 100000.0, 5.0
   );
   ```

3. **–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `CREATE_BILLION_NDN_WALLET_FIXED.sql`

### **–í–ê–†–ò–ê–ù–¢ 2: –ü–æ–ª–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)**

1. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `CREATE_BILLION_NDN_WALLET_FIXED.sql`
   - –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É

---

## üìã **–ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø**

### **–®–ê–ì 1: –û—Ç–∫—Ä—ã—Ç—å Supabase (1 –º–∏–Ω—É—Ç–∞)**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://supabase.com/dashboard/project/ahxwpzgltlzlvrtrbanm
2. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor**
3. –ù–∞–∂–º–∏—Ç–µ **"New query"**

### **–®–ê–ì 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã)**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `FIX_STARS_CONFIG_TABLE.sql`
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
3. –ù–∞–∂–º–∏—Ç–µ **"Run"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `Stars config table created successfully!`

### **–®–ê–ì 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç (2 –º–∏–Ω—É—Ç—ã)**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `CREATE_BILLION_NDN_WALLET_FIXED.sql`
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
3. –ù–∞–∂–º–∏—Ç–µ **"Run"**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è: `Server wallet with 1 billion NDN created successfully!`

---

## üß™ **–ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê**

### **1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
SELECT * FROM nodeon_server_wallet;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Stars
SELECT * FROM nodeon_stars_config;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
SELECT routine_name FROM information_schema.routines 
WHERE routine_schema = 'public' 
AND routine_name LIKE '%stars%' OR routine_name LIKE '%wallet%';
```

### **2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:**
```bash
python test_billion_wallet.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ë–∞–ª–∞–Ω—Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:
   üí∞ –†–µ–∑–µ—Ä–≤ NDN: 1,000,000,000.00 NDN
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars —Ä–∞–±–æ—Ç–∞–µ—Ç:
   –ö—É—Ä—Å Stars ‚Üí NDN: 1.0
   –ö—É—Ä—Å NDN ‚Üí Stars: 1.0
```

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

‚úÖ **–¢–∞–±–ª–∏—Ü–∞ `nodeon_stars_config`** —Å–æ–∑–¥–∞–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
‚úÖ **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫** —Å 1 –º–ª—Ä–¥ NDN —Å–æ–∑–¥–∞–Ω
‚úÖ **RPC —Ñ—É–Ω–∫—Ü–∏–∏** —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars** –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –∫ —Ä–∞–±–æ—Ç–µ

---

## üö® **–ï–°–õ–ò –í–û–ó–ù–ò–ö–õ–ò –ü–†–û–ë–õ–ï–ú–´**

### **–û—à–∏–±–∫–∞ "table is being used":**
```sql
-- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É
DROP TABLE nodeon_stars_config CASCADE;
```

### **–û—à–∏–±–∫–∞ "function already exists":**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è
- –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### **–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ Supabase
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É

---

## üéâ **–ò–¢–û–ì**

**–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π Stars Config –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!**

- üîß **–¢–∞–±–ª–∏—Ü–∞ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞** —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
- üí∞ **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫** —Å 1 –º–ª—Ä–¥ NDN –≥–æ—Ç–æ–≤
- ‚≠ê **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars** –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- üöÄ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –∫ –ø—Ä–æ–¥–∞–∂–µ NDN –∑–∞ Stars

**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: 5 –º–∏–Ω—É—Ç**
**–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ**
