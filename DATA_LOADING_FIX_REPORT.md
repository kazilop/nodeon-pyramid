# üîß –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö NodeOn Crypto

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û: –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### üêõ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏:

1. **–°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–ª–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–æ —Å–≤–µ–∂–∏—Ö –∏–∑ –ë–î
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API endpoint**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `/api/user/profile` –≤–º–µ—Å—Ç–æ `/api/auth/profile/:telegram_id`
3. **–£—Å—Ç–∞—Ä–µ–≤—à–∏–µ fallback –¥–∞–Ω–Ω—ã–µ**: –í –∫–æ–¥–µ –±—ã–ª–∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –∏ PRO —Å—Ç–∞—Ç—É—Å–∞

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### 1. **–û—á–∏—Å—Ç–∫–∞ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ**
```javascript
// –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –ë–î
console.log('üßπ –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage...');
localStorage.removeItem('nodeon_test_user');
localStorage.removeItem('nodeon_user_data');
```

#### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω API endpoint**
```javascript
// –ë—ã–ª–æ
let profileUrl = '/api/user/profile';

// –°—Ç–∞–ª–æ
const profileUrl = `/api/auth/profile/${unsafeUser.id}`;
```

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã fallback –¥–∞–Ω–Ω—ã–µ**
```javascript
// –ë—ã–ª–æ
if (unsafeUser.id === 207940967) {
    internalId = 5;
    balanceNdn = 9345.0; // –°—Ç–∞—Ä—ã–π –±–∞–ª–∞–Ω—Å
    isPro = false;       // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π PRO —Å—Ç–∞—Ç—É—Å
}

// –°—Ç–∞–ª–æ
if (unsafeUser.id === 207940967) {
    internalId = 5;
    balanceNdn = 9475.0; // –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏–∑ –ë–î
    isPro = true;        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π PRO —Å—Ç–∞—Ç—É—Å
    user_status = 'developer'; // –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
}
```

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

#### **API Response (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î):**
```json
{
  "success": true,
  "user": {
    "id": 5,
    "telegram_id": 207940967,
    "username": "NobodyYety",
    "first_name": "Fish",
    "balance_ndn": 9475,
    "is_pro": true,
    "user_status": "developer",
    "referral_link": "ref_5"
  }
}
```

#### **–ß—Ç–æ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- ‚úÖ **–ë–∞–ª–∞–Ω—Å**: 9475 NDN (–≤–º–µ—Å—Ç–æ 9345)
- ‚úÖ **PRO —Å—Ç–∞—Ç—É—Å**: true (–≤–º–µ—Å—Ç–æ false)
- ‚úÖ **–°—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: developer
- ‚úÖ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è ID=5
- ‚úÖ **–î–∞–Ω–Ω—ã–µ –∏–∑ –ë–î**: –í—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ, –Ω–µ –∏–∑ localStorage

### üîÑ –õ–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

1. **–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞**: –£–¥–∞–ª—è—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage
2. **API –∑–∞–ø—Ä–æ—Å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint `/api/auth/profile/:telegram_id`
3. **Fallback**: –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ fallback –¥–∞–Ω–Ω—ã–µ
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∫–∏**: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `checkAdminStatus()` –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### **–í —Ñ—É–Ω–∫—Ü–∏–∏ loadUserData():**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ localStorage
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API endpoint
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã fallback –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID=5

#### **–í fallback –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ –ë–∞–ª–∞–Ω—Å: 9345 ‚Üí 9475 NDN
- ‚úÖ PRO —Å—Ç–∞—Ç—É—Å: false ‚Üí true
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω user_status: 'developer'

#### **–í API –∑–∞–ø—Ä–æ—Å–µ:**
- ‚úÖ Endpoint: `/api/user/profile` ‚Üí `/api/auth/profile/:telegram_id`
- ‚úÖ –£–±—Ä–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram (–Ω–µ –Ω—É–∂–Ω–∞ –¥–ª—è GET –∑–∞–ø—Ä–æ—Å–∞)

### üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç:

**–¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
1. **–í—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase
2. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å** 9475 NDN –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID=5
3. **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç PRO —Å—Ç–∞—Ç—É—Å** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. **–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
5. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ** –∏–∑ localStorage

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

‚úÖ **–î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å–≤–µ–∂–∏–µ** –∏–∑ –ë–î  
‚úÖ **–ë–∞–ª–∞–Ω—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π** 9475 NDN  
‚úÖ **PRO —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç–∞–µ—Ç** –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è** –¥–ª—è ID=5  

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ! üöÄ**











