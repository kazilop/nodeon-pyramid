[build]
  publish = "."
  command = "npm run build"

[build.environment]
  NODE_VERSION = "18"

[[redirects]]
  from = "/api/users/find-by-id/*"
  to = "/.netlify/functions/users-find-by-id/:splat"
  status = 200

[[redirects]]
  from = "/api/referrals/*"
  to = "/.netlify/functions/referrals-by-id/:splat"
  status = 200

[[redirects]]
  from = "/api/stats/leaderboard"
  to = "/.netlify/functions/leaderboard"
  status = 200

[[redirects]]
  from = "/api/transfers/ndn"
  to = "/.netlify/functions/transfer-ndn"
  status = 200

[[redirects]]
  from = "/api/translations/*"
  to = "/.netlify/functions/translations-by-lang/:splat"
  status = 200

[[redirects]]
  from = "/api/game/data/*"
  to = "/.netlify/functions/game-data/:splat"
  status = 200

[[redirects]]
  from = "/api/game/achievements/*"
  to = "/.netlify/functions/achievements/:splat"
  status = 200

[[redirects]]
  from = "/api/pro/buy"
  to = "/.netlify/functions/buy-pro"
  status = 200

[[redirects]]
  from = "/api/game/claim-daily-reward"
  to = "/.netlify/functions/daily-reward"
  status = 200

[[redirects]]
  from = "/api/miner/buy-farm"
  to = "/.netlify/functions/buy-farm"
  status = 200

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/api/:splat"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

[dev]
  command = "npm run dev"
  port = 3000
  publish = "."
