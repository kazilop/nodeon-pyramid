# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é –≤–µ—Ä—Å–∏–∏ 1.2.0

## –î–∞—Ç–∞: 04.11.2025

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞
```bash
# –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã ‚úÖ
npm run lint  # –ï—Å–ª–∏ –µ—Å—Ç—å
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```bash
git status
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
# - index.html
# - server-deployment/routes/game.js
# - package.json
# - –∏ –¥—Ä—É–≥–∏–µ...
```

---

## üéØ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ
```bash
cd server-deployment
npm install  # –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
node server.js
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints
```bash
# –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
curl http://localhost:3000/api/game/achievements

# –ö–≤–µ—Å—Ç—ã
curl http://localhost:3000/api/game/daily-quests
curl http://localhost:3000/api/game/weekly-quests

# –ë—É—Å—Ç—ã
curl http://localhost:3000/api/game/boosts

# –†–∞–Ω–≥–∏
curl http://localhost:3000/api/game/ranks

# –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã (POST)
curl -X POST http://localhost:3000/api/game/spin-wheel \
  -H "Content-Type: application/json" \
  -d '{"telegram_id": 123456789}'
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –û—Ç–∫—Ä—ã—Ç—å `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "–ò–≥—Ä–∞":
  - ‚úÖ –ö–≤–µ—Å—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
  - ‚úÖ –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
  - ‚úÖ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - ‚úÖ –†–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞ –≤–∏–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É "Miner":
  - ‚úÖ –ú–∞–≥–∞–∑–∏–Ω –±—É—Å—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
  - ‚úÖ –ë—É—Å—Ç—ã –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å

---

## üîÑ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

#### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
```bash
# Windows (PowerShell)
.\deploy-v1.2.0.ps1

# Linux/Mac
chmod +x deploy-v1.2.0.sh
./deploy-v1.2.0.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
# 1. –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .

# 2. –ö–æ–º–º–∏—Ç
git commit -m "üéâ Release v1.2.0 - Major Update: Game Mechanics"

# 3. –¢–µ–≥
git tag -a v1.2.0 -m "Version 1.2.0 - Game Mechanics Update"

# 4. Push
git push origin main
git push origin v1.2.0
```

#### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server-ip

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /path/to/nodeon

# 3. –°–¥–µ–ª–∞—Ç—å backup (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
cp -r server-deployment server-deployment-backup-$(date +%Y%m%d)

# 4. –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 5. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
cd server-deployment
npm install

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
pm2 restart nodeon-pyramid

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs nodeon-pyramid --lines 100

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

–ï—Å–ª–∏ Git –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# Windows (PowerShell)
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SCP
scp index.html user@server:/path/to/nodeon/
scp dist/index.html user@server:/path/to/nodeon/dist/
scp server-deployment/public/index.html user@server:/path/to/nodeon/server-deployment/public/
scp server-deployment/routes/game.js user@server:/path/to/nodeon/server-deployment/routes/
scp server-deployment/routes/auth.js user@server:/path/to/nodeon/server-deployment/routes/
scp server-deployment/routes/users.js user@server:/path/to/nodeon/server-deployment/routes/
scp server-deployment/package.json user@server:/path/to/nodeon/server-deployment/

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
ssh user@server
cd /path/to/nodeon/server-deployment
pm2 restart nodeon-pyramid
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –°—Ç–∞—Ç—É—Å PM2
pm2 status

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
# ‚îÇ id  ‚îÇ name               ‚îÇ status  ‚îÇ restart ‚îÇ uptime    ‚îÇ
# ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
# ‚îÇ 0   ‚îÇ nodeon-pyramid     ‚îÇ online  ‚îÇ 0       ‚îÇ 1m        ‚îÇ
# ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

# –õ–æ–≥–∏
pm2 logs nodeon-pyramid --lines 50
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è:
# "üöÄ Server started on port 3000"
# "‚úÖ Connected to Supabase"
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints
```bash
# –ó–∞–º–µ–Ω–∏—Ç—å your-domain.com –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
curl https://your-domain.com/api/game/achievements
curl https://your-domain.com/api/game/daily-quests
curl https://your-domain.com/api/game/boosts
curl https://your-domain.com/api/game/ranks
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –û—Ç–∫—Ä—ã—Ç—å Telegram Mini App
- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (Pull to refresh)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Ñ–∏—á–∏:
  - [ ] –ö–≤–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
  - [ ] –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã —Ä–∞–±–æ—Ç–∞–µ—Ç
  - [ ] –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
  - [ ] –§–∏–ª—å—Ç—Ä—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞—é—Ç
  - [ ] –†–∞–Ω–≥ –∏–≥—Ä–æ–∫–∞ –ø–æ–∫–∞–∑–∞–Ω
  - [ ] –ë—É—Å—Ç—ã –≤ –º–∞–π–Ω–µ—Ä–µ –≤–∏–¥–Ω—ã
  - [ ] –ú–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –±—É—Å—Ç

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
curl -w "Time: %{time_total}s\n" -o /dev/null -s https://your-domain.com/api/game/achievements
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å < 1s
```

---

## üêõ –û—Ç–∫–∞—Ç –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–∞—Ç —á–µ—Ä–µ–∑ Git
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /path/to/nodeon
git log --oneline  # –ù–∞–π—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–º–º–∏—Ç
git checkout <previous-commit-hash>
pm2 restart nodeon-pyramid
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /path/to/nodeon
rm -rf server-deployment
cp -r server-deployment-backup-<date> server-deployment
pm2 restart nodeon-pyramid
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –í —Ç–µ—á–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —á–∞—Å–∞:
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 logs nodeon-pyramid

# –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
watch -n 600 pm2 status
```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- ‚ùå –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –Ω–æ–≤—ã–º endpoints
- üë• –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- üîÑ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–∞—Ä—Ç–æ–≤

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
- [x] –õ–∏–Ω—Ç–µ—Ä –ø—Ä–æ–π–¥–µ–Ω
- [x] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ 1.2.0
- [x] CHANGELOG.md —Å–æ–∑–¥–∞–Ω
- [x] –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [x] Backup —Å–æ–∑–¥–∞–Ω

### –í–æ –≤—Ä–µ–º—è –¥–µ–ø–ª–æ—è:
- [ ] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω
- [ ] –¢–µ–≥ v1.2.0 —Å–æ–∑–¥–∞–Ω
- [ ] Push –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ git pull
- [ ] npm install (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] PM2 restart
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ù–æ–≤—ã–µ —Ñ–∏—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–≥—Ä–∞—Ç—å

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### 1. –ê–Ω–æ–Ω—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç –≤ Telegram –∫–∞–Ω–∞–ª–µ
- –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –°–ª–µ–¥–∏—Ç—å –∑–∞ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
- –°–æ–±—Ä–∞—Ç—å —Ñ–∏–¥–±–µ–∫ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ–ª–∫–∏–µ –±–∞–≥–∏, –µ—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è

### 3. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –≤–µ—Ä—Å–∏–µ–π 1.3.0
- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏
- –£–ª—É—á—à–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏–∫—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `pm2 logs nodeon-pyramid`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å: `pm2 status`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `pm2 restart nodeon-pyramid`
4. –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Å–º. –≤—ã—à–µ)

---

**–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ**

