# üí∞ –ù–ê–°–¢–†–û–ô–ö–ê –°–ï–†–í–ï–†–ù–û–ì–û –ö–û–®–ï–õ–¨–ö–ê –° 1 –ú–ò–õ–õ–ò–ê–†–î–û–ú NDN

## üéØ **–¶–ï–õ–¨**
–°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ —Å —Ä–µ–∑–µ—Ä–≤–æ–º 1,000,000,000 NDN –º–æ–Ω–µ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —á–µ—Ä–µ–∑ Telegram Stars.

---

## üöÄ **–ü–û–®–ê–ì–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê (15 –º–∏–Ω—É—Ç)**

### **–®–ê–ì 1: –û—Ç–∫—Ä—ã—Ç—å Supabase (2 –º–∏–Ω—É—Ç—ã)**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:**
   - https://supabase.com/dashboard/project/ahxwpzgltlzlvrtrbanm

2. **–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç** (–µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã)

3. **–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor:**
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"SQL Editor"**
   - –ù–∞–∂–º–∏—Ç–µ **"New query"**

### **–®–ê–ì 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç (10 –º–∏–Ω—É—Ç)**

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥** –∏–∑ —Ñ–∞–π–ª–∞ `CREATE_BILLION_NDN_WALLET.sql`

2. **–í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor**

3. **–ù–∞–∂–º–∏—Ç–µ "Run"** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

4. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** (–¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Server wallet with 1 billion NDN created successfully!")

### **–®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ (3 –º–∏–Ω—É—Ç—ã)**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—ã:**
   - –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Table Editor"**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:
     - ‚úÖ `nodeon_server_wallet`
     - ‚úÖ `nodeon_wallet_transactions`
     - ‚úÖ `nodeon_stars_config`
     - ‚úÖ `nodeon_stars_payments`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `nodeon_server_wallet`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `balance_ndn = 1000000000.00`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Stars:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É `nodeon_stars_config`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

---

## üìä **–ß–¢–û –°–û–ó–î–ê–ï–¢–°–Ø**

### **1. –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫:**
```sql
-- 1 –º–∏–ª–ª–∏–∞—Ä–¥ NDN –º–æ–Ω–µ—Ç
balance_ndn: 1,000,000,000.00
total_ndn_issued: 0.00
total_ndn_received: 0.00
```

### **2. –¢–∞–±–ª–∏—Ü—ã:**
- `nodeon_server_wallet` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ—à–µ–ª–µ–∫
- `nodeon_wallet_transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `nodeon_stars_config` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars
- `nodeon_stars_payments` - –ø–ª–∞—Ç–µ–∂–∏ Stars

### **3. RPC —Ñ—É–Ω–∫—Ü–∏–∏:**
- `get_server_wallet_balance()` - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å –∫–æ—à–µ–ª—å–∫–∞
- `get_stars_config()` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Stars
- `process_stars_purchase()` - –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∫—É–ø–∫—É NDN –∑–∞ Stars
- `process_ndn_withdrawal()` - –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—ã–≤–æ–¥ NDN –≤ Stars
- `get_wallet_transactions()` - –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### **4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Stars:**
```sql
stars_to_ndn_rate: 1.0000    -- 1 Star = 1 NDN
ndn_to_stars_rate: 1.0000    -- 1 NDN = 1 Star
min_stars_purchase: 10.0     -- –ú–∏–Ω–∏–º—É–º 10 Stars
max_stars_purchase: 100000.0 -- –ú–∞–∫—Å–∏–º—É–º 100,000 Stars
stars_withdrawal_fee_percent: 5.0 -- –ö–æ–º–∏—Å—Å–∏—è 5%
```

---

## üß™ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï**

### **–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:**

```bash
python test_server_wallet.py
```

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üè¶ –¢–µ—Å—Ç –±–∞–ª–∞–Ω—Å–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
--------------------------------------------------
‚úÖ –ë–∞–ª–∞–Ω—Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:
   –†–µ–∑–µ—Ä–≤ NDN: 1,000,000,000.00 NDN
   –í—ã–¥–∞–Ω–æ NDN: 0.00 NDN
   –ü–æ–ª—É—á–µ–Ω–æ NDN: 0.00 NDN
   –î–æ—Å—Ç—É–ø–Ω–æ NDN: 1,000,000,000.00 NDN
```

---

## üìã **–ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–ê**

### **1. –í Supabase Table Editor:**
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `nodeon_server_wallet` —Å–æ–¥–µ—Ä–∂–∏—Ç 1 –∑–∞–ø–∏—Å—å
- ‚úÖ `balance_ndn = 1000000000.00`
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `nodeon_stars_config` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

### **2. –ß–µ—Ä–µ–∑ API:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞
curl https://nodeon-production.up.railway.app/api/wallet/balance

# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
{
  "success": true,
  "wallet": {
    "balance_ndn": 1000000000.00,
    "total_ndn_issued": 0.00,
    "total_ndn_received": 0.00
  }
}
```

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

‚úÖ **–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ —Å–æ–∑–¥–∞–Ω** —Å —Ä–µ–∑–µ—Ä–≤–æ–º 1 –º–ª—Ä–¥ NDN
‚úÖ **–¢–∞–±–ª–∏—Ü—ã Stars —Å–æ–∑–¥–∞–Ω—ã** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
‚úÖ **RPC —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ Stars
‚úÖ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞** –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ NDN –∑–∞ Telegram Stars

---

## üö® **–ï–°–õ–ò –í–û–ó–ù–ò–ö–õ–ò –ü–†–û–ë–õ–ï–ú–´**

### **–û—à–∏–±–∫–∞ "table already exists":**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `IF NOT EXISTS`
- –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### **–û—à–∏–±–∫–∞ "function already exists":**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### **–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ Supabase
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É

---

## üéâ **–ò–¢–û–ì**

**–°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ —Å 1 –º–∏–ª–ª–∏–∞—Ä–¥–æ–º NDN –º–æ–Ω–µ—Ç –≥–æ—Ç–æ–≤!**

- üè¶ **–†–µ–∑–µ—Ä–≤:** 1,000,000,000 NDN
- ‚≠ê **Stars:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- üîÑ **–û–±–º–µ–Ω:** Stars ‚Üî NDN
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å
- üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** –ö –ø—Ä–æ–¥–∞–∂–µ NDN –∑–∞ Stars

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: 15 –º–∏–Ω—É—Ç**
**–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üéâ**
